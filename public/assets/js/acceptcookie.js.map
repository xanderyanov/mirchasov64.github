{"version":3,"file":"acceptcookie.js","sources":["acceptcookie.js"],"sourcesContent":["(function (window, undefined){\r\n\t\"use strict\";\r\n\r\n\tvar document = window.document;\r\n\r\n\tfunction log() {\r\n\t\tif (window.console && window.console.log) {\r\n\t\t\tfor (var x in arguments) {\r\n\t\t\t\tif (arguments.hasOwnProperty(x)) {\r\n\t\t\t\t\twindow.console.log(arguments[x]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction AcceptCookie() {\r\n\t\tif (!(this instanceof AcceptCookie)) {\r\n\t\t\treturn new AcceptCookie();\r\n\t\t}\r\n\r\n\t\tthis.init.call(this);\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tAcceptCookie.prototype = {\r\n\r\n\t\tinit: function () {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tif(self.readCookie('pjAcceptCookie') == null)\r\n\t\t\t{\r\n\t\t\t\tself.appendCss();\r\n\t\t\t\tself.addCookieBar();\r\n\t\t\t}\r\n\r\n\t\t\tvar clear_cookie_arr = self.getElementsByClass(\"pjClearCookie\", null, \"a\");\r\n\t\t\tif(clear_cookie_arr.length > 0)\r\n\t\t\t{\r\n\t\t\t\tself.addEvent(clear_cookie_arr[0], \"click\", function (e) {\r\n\t\t\t\t\tif (e.preventDefault) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.eraseCookie('pjAcceptCookie');\r\n\t\t\t\t\tdocument.location.reload();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetElementsByClass: function (searchClass, node, tag) {\r\n\t\t\tvar classElements = new Array();\r\n\t\t\tif (node == null) {\r\n\t\t\t\tnode = document;\r\n\t\t\t}\r\n\t\t\tif (tag == null) {\r\n\t\t\t\ttag = '*';\r\n\t\t\t}\r\n\t\t\tvar els = node.getElementsByTagName(tag);\r\n\t\t\tvar elsLen = els.length;\r\n\t\t\tvar pattern = new RegExp(\"(^|\\\\s)\"+searchClass+\"(\\\\s|$)\");\r\n\t\t\tfor (var i = 0, j = 0; i < elsLen; i++) {\r\n\t\t\t\tif (pattern.test(els[i].className)) {\r\n\t\t\t\t\tclassElements[j] = els[i];\r\n\t\t\t\t\tj++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn classElements;\r\n\t\t},\r\n\t\taddEvent: function (obj, type, fn) {\r\n\t\t\tif (obj.addEventListener) {\r\n\t\t\t\tobj.addEventListener(type, fn, false);\r\n\t\t\t} else if (obj.attachEvent) {\r\n\t\t\t\tobj[\"e\" + type + fn] = fn;\r\n\t\t\t\tobj[type + fn] = function() { obj[\"e\" + type + fn](window.event); };\r\n\t\t\t\tobj.attachEvent(\"on\" + type, obj[type + fn]);\r\n\t\t\t} else {\r\n\t\t\t\tobj[\"on\" + type] = obj[\"e\" + type + fn];\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreateCookie: function (name, value, days){\r\n\t\t\tvar expires;\r\n\t\t    if (days) {\r\n\t\t        var date = new Date();\r\n\t\t        date.setTime(date.getTime()+(days*24*60*60*1000));\r\n\t\t        expires = \"; expires=\"+date.toGMTString();\r\n\t\t    } else {\r\n\t\t        expires = \"\";\r\n\t\t    }\r\n\t\t    document.cookie = name+\"=\"+value+expires+\"; path=/\";\r\n\t\t},\r\n\t\treadCookie: function (name) {\r\n\t\t    var nameEQ = name + \"=\";\r\n\t\t    var ca = document.cookie.split(';');\r\n\t\t    for(var i=0;i < ca.length;i++) {\r\n\t\t        var c = ca[i];\r\n\t\t        while (c.charAt(0) === ' ') {\r\n\t\t            c = c.substring(1,c.length);\r\n\t\t        }\r\n\t\t        if (c.indexOf(nameEQ) === 0) {\r\n\t\t            return c.substring(nameEQ.length,c.length);\r\n\t\t        }\r\n\t\t    }\r\n\t\t    return null;\r\n\t\t},\r\n\t\teraseCookie: function (name) {\r\n\t\t\tvar self = this;\r\n\t\t\tself.createCookie(name,\"\",-1);\r\n\t\t},\r\n\t\tappendCss: function()\r\n\t\t{\r\n\t\t\tvar self = this;\r\n\t\t\tvar cssId = 'pjAcceptCookieCss';\r\n\t\t\tif (!document.getElementById(cssId))\r\n\t\t\t{\r\n\t\t\t    var head  = document.getElementsByTagName('head')[0];\r\n\t\t\t    var link  = document.createElement('link');\r\n\t\t\t    link.id   = cssId;\r\n\t\t\t    link.rel  = 'stylesheet';\r\n\t\t\t    link.type = 'text/css';\r\n\t\t\t    link.href = 'https://fonts.googleapis.com/css?family=Open+Sans';\r\n\t\t\t    link.media = 'all';\r\n\t\t\t    head.appendChild(link);\r\n\t\t\t}\r\n\r\n\t\t\tvar cssCode = \"\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarBtn,\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarBtn:after { -webkit-transition: all .5s ease-in-out; -moz-transition: all .5s ease-in-out; -ms-transition: all .5s ease-in-out; -o-transition: all .5s ease-in-out; transition: all .5s ease-in-out; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar { position: fixed; bottom: 0; left: 0; z-index: 9999; overflow-x: hidden; overflow-y: auto; width: 100%; max-height: 100%; padding: 30px 0; background: #404040; font-family: 'Open Sans', sans-serif; text-align: center; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar * { padding: 0; margin: 0; outline: 0; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarShell { width: 90%; margin: 0 auto; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar a[href^=tel] { color: inherit; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar a:focus,\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar button:focus { outline: unset; outline: none; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar p { font-size: 18px; line-height: 1.4; color: #fff; font-weight: 400; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarActions { padding-top: 10px; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarBtn { position: relative; display: inline-block; height: 46px; padding: 0 30px; border: 0; background: #4285f4; font-size: 18px; line-height: 44px; color: #fff; text-decoration: none; vertical-align: middle; cursor: pointer; border-radius: 0; -webkit-appearance: none; -webkit-border-radius: 0; -webkit-transform: translateZ(0); transform: translateZ(0); -webkit-backface-visibility: hidden; backface-visibility: hidden; -moz-osx-font-smoothing: grayscale; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarBtn:hover,\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarBtn:focus { text-decoration: none; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarBtn:after { position: absolute; top: 0; right: 52%; bottom: 0; left: 52%; z-index: -1; border-bottom: 4px solid #14428d; background: rgba(20, 66, 141, .3); content: ''; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarBtn:hover:after,\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarBtn:focus:after { right: 0; left: 0; }\";\r\n\t\t\tcssCode += \"@media only screen and (max-width: 767px) {\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar { padding: 15px 0; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar .pjAcceptCookieBarShell { width: 96%; }\";\r\n\t\t\tcssCode += \"#pjAcceptCookieBar p { font-size: 16px; }\";\r\n\t\t\tcssCode += \"}\";\r\n\r\n\t\t\tvar styleElement = document.createElement(\"style\");\r\n\t\t\tstyleElement.type = \"text/css\";\r\n\t\t\tif (styleElement.styleSheet) {\r\n\t\t\t    styleElement.styleSheet.cssText = cssCode;\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(document.createTextNode(cssCode));\r\n\t\t\t}\r\n\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(styleElement);\r\n\t\t},\r\n\t\taddCookieBar: function(){\r\n\t\t\tvar self = this;\r\n\t\t\tvar htmlBar = '';\r\n\r\n\t\t\thtmlBar += '<div class=\"pjAcceptCookieBarShell\">';\r\n\t\t\thtmlBar += '<form action=\"#\" method=\"post\">';\r\n\t\t\thtmlBar += '<p>Мы используем файлы cookie, чтобы обеспечить вам лучший опыт работы на нашем веб-сайте. <br /> Закрывая это сообщение, вы соглашаетесь на наши файлы cookie на этом устройстве в соответствии с нашей политикой cookie, если вы не отключили их</p>';\r\n\t\t\thtmlBar += '<div class=\"pjAcceptCookieBarActions\">';\r\n\t\t\thtmlBar += '<button type=\"button\" class=\"pjAcceptCookieBarBtn\">Принимаю</button>';\r\n\t\t\thtmlBar += '</div>';\r\n\t\t\thtmlBar += '</form>';\r\n\t\t\thtmlBar += '</div>';\r\n\r\n\t\t\tvar barDiv = document.createElement('div');\r\n\t\t\tbarDiv.id = \"pjAcceptCookieBar\";\r\n\t\t\tdocument.body.appendChild(barDiv);\r\n\t\t\tbarDiv.innerHTML = htmlBar;\r\n\r\n\t\t\tself.bindCookieBar();\r\n\t\t},\r\n\t\tbindCookieBar: function(){\r\n\t\t\tvar self = this;\r\n\t\t\tvar btn_arr = self.getElementsByClass(\"pjAcceptCookieBarBtn\", null, \"button\");\r\n\t\t\tif(btn_arr.length > 0)\r\n\t\t\t{\r\n\t\t\t\tself.addEvent(btn_arr[0], \"click\", function (e) {\r\n\t\t\t\t\tif (e.preventDefault) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.createCookie('pjAcceptCookie', 'YES', 365);\r\n\r\n\t\t\t\t\tdocument.getElementById(\"pjAcceptCookieBar\").remove();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\twindow.AcceptCookie = AcceptCookie;\r\n})(window);\r\n\r\nwindow.onload = function() {\r\n\tAcceptCookie = AcceptCookie();\r\n}\r\n"],"names":["window","document","AcceptCookie","this","init","call","prototype","self","readCookie","appendCss","addCookieBar","clear_cookie_arr","getElementsByClass","length","addEvent","e","preventDefault","eraseCookie","location","reload","searchClass","node","tag","classElements","Array","els","getElementsByTagName","elsLen","pattern","RegExp","i","j","test","className","obj","type","fn","addEventListener","attachEvent","event","createCookie","name","value","days","expires","date","Date","setTime","getTime","toGMTString","cookie","nameEQ","ca","split","c","charAt","substring","indexOf","cssId","getElementById","head","link","createElement","id","rel","href","media","appendChild","cssCode","styleElement","styleSheet","cssText","createTextNode","barDiv","body","innerHTML","htmlBar","bindCookieBar","btn_arr","remove","onload"],"mappings":"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"}